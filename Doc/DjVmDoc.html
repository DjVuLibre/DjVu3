<HTML>
<HEAD>
   <TITLE>class  DjVmDoc</TITLE>
   <META NAME="GENERATOR" CONTENT="DOC++ 3.4.1">
</HEAD>
<BODY BGCOLOR=#fefefe BACKGROUND=back.jpg>

<H2>class  <A HREF="#DOC.DOCU">DjVmDoc</A>: public <!1><A HREF="GPEnabled.html#DOC.1.5.4.1.2">GPEnabled</A></H2>
<BLOCKQUOTE>Read/Write DjVu multipage documents.</BLOCKQUOTE>
<HR>

<H2>Inheritance:</H2>
<APPLET CODE="ClassGraph.class" WIDTH=600 HEIGHT=65>
<param name=classes value="CGPEnabled,MGPEnabled.html,CDjVmDoc,MDjVmDoc.html">
<param name=before value="M,M">
<param name=after value="Md_,M">
<param name=indent value="0,1">
<param name=arrowdir value="down">
</APPLET>
<HR>

<DL>
<P><DL>
<DT><H3>Public Methods</H3><DD><DT>
<A HREF="#DOC.1.5.33.1.1"><IMG ALT="[more]" BORDER=0 SRC=icon1.gif></A>void <B>insert_file</B>(<!1><A HREF="ByteStream.html">ByteStream</A> &amp;data, DjVmDir::File::FILE_TYPE file_type, const char *name, const char *id, const char *title=0, int pos=-1)
<DD><I>Inserts a file into the document.</I>
<DT>
<A HREF="#DOC.1.5.33.1.2"><IMG ALT="[more]" BORDER=0 SRC=icon1.gif></A>void <B>insert_file</B>(const <!1><A HREF="GP.html">GP</A>&lt;DjVmDir::File&gt; &amp; f, <!1><A HREF="GP.html">GP</A>&lt;<!1><A HREF="DataPool.html">DataPool</A>&gt; data, int pos=-1)
<DD><I>Inserts a file described by DjVmDir::File structure with data <TT>data</TT> at position <TT>pos</TT>.</I>
<DT>
<A HREF="#DOC.1.5.33.1.3"><IMG ALT="[more]" BORDER=0 SRC=icon1.gif></A>void <B>delete_file</B>(const char * id)
<DD><I>Removes file with the specified file inside a new DjVu multipage document has its unique ID (refer to <!1><A HREF="DjVmDir.html">DjVmDir</A> for details), which is passed to this function.</I>
<DT>
<A HREF="#DOC.1.5.33.1.4"><IMG ALT="[more]" BORDER=0 SRC=icon1.gif></A><!1><A HREF="GP.html">GP</A>&lt;<!1><A HREF="DjVmDir.html">DjVmDir</A>&gt;  <B>get_djvm_dir</B>(void)
<DD><I>Returns the directory of the DjVm document (the one which will be encoded into <TT>DJVM</TT> chunk of the top-level file or the bundle).</I>
<DT>
<A HREF="#DOC.1.5.33.1.5"><IMG ALT="[more]" BORDER=0 SRC=icon1.gif></A><!1><A HREF="GP.html">GP</A>&lt;<!1><A HREF="DataPool.html">DataPool</A>&gt;  <B>get_data</B>(const char * id)
<DD><I>Returns contents of file with ID Please refer to <!1><A HREF="DjVmDir.html">DjVmDir</A> for the explanation of what IDs mean.</I>
<DT>
<A HREF="#DOC.1.5.33.1.8"><IMG ALT="[more]" BORDER=0 SRC=icon1.gif></A> <B>DjVmDoc</B>(void)
<DD><I>Constructor</I>
</DL></P>

<P><DL>
<DT><H3>Public</H3><DD><DT>
<A HREF="#DOC.1.5.33.1.6"><IMG ALT="[more]" BORDER=0 SRC=icon1.gif></A> <B>Reading routines </B>
<DD><I></I>
<DT>
<A HREF="#DOC.1.5.33.1.7"><IMG ALT="[more]" BORDER=0 SRC=icon1.gif></A> <B>Writing routines </B>
<DD><I></I>
</DL></P>

</DL>
<HR><H3>Inherited from <A HREF="GPEnabled.html">GPEnabled</A>:</H3>
<DL>
<P><DL>
<DT><H3>Public Methods</H3><DD><DT>
<IMG ALT="o" SRC=icon2.gif><!1><A HREF="GPEnabled.html#DOC.1.5.4.1.2">GPEnabled</A>&amp; <B>operator=</B>(const <!1><A HREF="GPEnabled.html#DOC.1.5.4.1.2">GPEnabled</A> &amp; obj)
<DT>
<IMG ALT="o" SRC=icon2.gif>int <B>get_count</B>(void) const 
</DL></P>

<P><DL>
<DT><H3>Protected Fields</H3><DD><DT>
<IMG ALT="o" SRC=icon2.gif>volatile   int <B>count</B>
</DL></P>

</DL>

<A NAME="DOC.DOCU">
<HR>
<H2>Documentation</H2>
<BLOCKQUOTE>Read/Write DjVu multipage documents.<P>The "new" DjVu multipage documents can be of two types: <EM>bundled</EM> and
<EM>indirect</EM>. In the first case all pages are packed into one file,
which is very like an archive internally. In the second case every page
is stored in a separate file. Plus there can be other components,
included into one or more pages, which also go into separate files. In
addition to pages and components, in the case of the <EM>indirect</EM> format
there is one more top-level file with the document directory (see
<!1><A HREF="DjVmDir.html">DjVmDir</A>), which is basically an index file containing the
list of all files composing the document.<P>This class can read documents of both formats and can save them under any
format.  It is therefore ideal for converting between <EM>bundled</EM> and
<EM>indirect</EM> formats.  It cannot be used however for reading obsolete
formats.  The best way to convert obsolete formats consists in reading
them with class <!1><A HREF="DjVuDocument.html">DjVuDocument</A> class and saving them using
<!1><A HREF="DjVuDocument.html#DOC.1.5.30.1.20.2">write</A> or <!1><A HREF="DjVuDocument.html#DOC.1.5.30.1.20.3">expand</A>.<P>This class can also be used to create and modify multipage documents at
the low level without decoding every page or component (See
<!1><A HREF="DjVmDoc.html#DOC.1.5.33.1.2">insert_file</A>() and <!1><A HREF="DjVmDoc.html#DOC.1.5.33.1.3">delete_file</A>()). </BLOCKQUOTE>
<DL>

<A NAME="insert_file">
<A NAME="DOC.1.5.33.1.1">
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>void insert_file(<!1><A HREF="ByteStream.html">ByteStream</A> &amp;data, DjVmDir::File::FILE_TYPE file_type, const char *name, const char *id, const char *title=0, int pos=-1)</B></TT>
<DD>Inserts a file into the document.

<DL><DT><DT><B>Parameters:</B><DD><B>data</B> -   ByteStream containing the file data.
<BR><B>file_type</B> -  Describes the type of the file to be inserted.
See DjVmDir::File for details.
<BR><B>name</B> -   Name of the file in the document (e.g. an URL).
<BR><B>id</B> -     Identifier of the file (as used in INCL chunks).
<BR><B>title</B> -  Optional title of the file (shown in browsers).
<BR><B>pos</B> -    Position of the file in the document (default is append).<BR><DD></DL><P>
<A NAME="insert_file">
<A NAME="DOC.1.5.33.1.2">
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>void insert_file(const <!1><A HREF="GP.html">GP</A>&lt;DjVmDir::File&gt; &amp; f, <!1><A HREF="GP.html">GP</A>&lt;<!1><A HREF="DataPool.html">DataPool</A>&gt; data, int pos=-1)</B></TT>
<DD>Inserts a file described by DjVmDir::File structure with
data <TT>data</TT> at position <TT>pos</TT>. If <TT>pos</TT> is negative, the file
will be appended to the document. Otherwise it will be inserted
at position <TT>pos</TT>. 
<DL><DT><DD></DL><P>
<A NAME="delete_file">
<A NAME="DOC.1.5.33.1.3">
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>void delete_file(const char * id)</B></TT>
<DD>Removes file with the specified
file inside a new DjVu multipage document has its unique ID
(refer to <!1><A HREF="DjVmDir.html">DjVmDir</A> for details), which is passed to this
function. 
<DL><DT><DD></DL><P>
<A NAME="get_djvm_dir">
<A NAME="DOC.1.5.33.1.4">
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B><!1><A HREF="GP.html">GP</A>&lt;<!1><A HREF="DjVmDir.html">DjVmDir</A>&gt;  get_djvm_dir(void)</B></TT>
<DD>Returns the directory of the DjVm document (the one which will
be encoded into <TT>DJVM</TT> chunk of the top-level file or the bundle). 
<DL><DT><DD></DL><P>
<A NAME="get_data">
<A NAME="DOC.1.5.33.1.5">
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B><!1><A HREF="GP.html">GP</A>&lt;<!1><A HREF="DataPool.html">DataPool</A>&gt;  get_data(const char * id)</B></TT>
<DD>Returns contents of file with ID
Please refer to <!1><A HREF="DjVmDir.html">DjVmDir</A> for the explanation of what
IDs mean. 
<DL><DT><DD></DL><P>
<A NAME="Reading routines ">
<A NAME="DOC.1.5.33.1.6">
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B> Reading routines </B></TT>
<DD>Reading routines 
<DL><DT><DD></DL><P><DL>

<A NAME="read">
<A NAME="DOC.1.5.33.1.6.1">
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>void read(<!1><A HREF="ByteStream.html">ByteStream</A> &amp; str)</B></TT>
<DD>Reads contents of a <EM>bundled</EM> multipage DjVu document from
the stream. 
<DL><DT><DD></DL><P>
<A NAME="read">
<A NAME="DOC.1.5.33.1.6.2">
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>void read(const <!1><A HREF="GP.html">GP</A>&lt;<!1><A HREF="DataPool.html">DataPool</A>&gt; &amp; data_pool)</B></TT>
<DD>Reads contents of a <EM>bundled</EM> multipage DjVu document from
the <!1><A HREF="DataPool.html">DataPool</A>. 
<DL><DT><DD></DL><P>
<A NAME="read">
<A NAME="DOC.1.5.33.1.6.3">
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>void read(const char * name)</B></TT>
<DD>Reads the DjVu multipage document in either <EM>bundled</EM> or
<EM>indirect</EM> format.<P><B>Note:</B> For <EM>bundled</EM> documents the file is not
read into memory. We just open it and access data directly there.
Thus you should not modify the file contents.<P>
<DL><DT><DT><B>Parameters:</B><DD><B>name</B> -  For <EM>bundled</EM> documents this is the name
of the document. For <EM>indirect</EM> documents this is
the name of the top-level file of the document (containing
the <!1><A HREF="DjVmDir.html">DjVmDir</A> with the list of all files).
The rest of the files are expected to be in the
same directory and will be read by this function as well. <BR><DD></DL><P></DL>

<A NAME="Writing routines ">
<A NAME="DOC.1.5.33.1.7">
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B> Writing routines </B></TT>
<DD>Writing routines 
<DL><DT><DD></DL><P><DL>

<A NAME="write">
<A NAME="DOC.1.5.33.1.7.1">
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>void write(<!1><A HREF="ByteStream.html">ByteStream</A> &amp; str)</B></TT>
<DD>Writes the multipage DjVu document in the <EM>bundled</EM> format into
the stream. 
<DL><DT><DD></DL><P>
<A NAME="write_index">
<A NAME="DOC.1.5.33.1.7.2">
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>void write_index(<!1><A HREF="ByteStream.html">ByteStream</A> &amp; str)</B></TT>
<DD>Stored index (top-level) file of the DjVu document in the <EM>
indirect</EM> format into the specified stream. 
<DL><DT><DD></DL><P>
<A NAME="expand">
<A NAME="DOC.1.5.33.1.7.3">
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>void expand(const char * dir_name, const char * idx_name)</B></TT>
<DD>Writes the multipage DjVu document in the <EM>indirect</EM> format
into the given directory. Every page and included file will be
stored as a separate file. Besides, one top-level file with
the document directory (named<P>

<DL><DT><DT><B>Parameters:</B><DD><B>dir_name</B> -  Name of the directory where files should be
created
<BR><B>idx_name</B> -  Name of the top-level file with the <!1><A HREF="DjVmDir.html">DjVmDir</A>
with the list of files composing the given document.
If empty, the file will not be created. <BR><DD></DL><P></DL>

<A NAME="DjVmDoc">
<A NAME="DOC.1.5.33.1.8">
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B> DjVmDoc(void)</B></TT>
<DD>Constructor
<DL><DT><DD></DL><P></DL>

<HR><DL><DT><B>This class has no child classes.</B></DL>

<DL><DT><DD></DL><P><I><A HREF="index.html">Alphabetic index</A></I> <I><A HREF="HIER.html">HTML hierarchy of classes</A> or <A HREF="HIERjava.html">Java</A></I><P><HR>
<!-- This is were the DOC++ footer is defined  -->

<font face="arial,helvetica" size="2">
<a href=http://www.djvu.att.com>DjVu</a> is a trademark of AT&amp;T.  
<br>All other products mentioned are registered trademarks or trademarks of
their respective companies.
</font>
