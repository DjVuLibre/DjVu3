<HTML>
<HEAD>
   <TITLE>class  DjVuPortclass  DjVuPortcasterclass  DjVuPort</TITLE>
   <META NAME="GENERATOR" CONTENT="DOC++ 3.4.1">
</HEAD>
<BODY BGCOLOR=#fefefe BACKGROUND=back.jpg>

<H2>class  DjVuPortclass  DjVuPortcasterclass  <A HREF="#DOC.DOCU">DjVuPort</A>: public <!1><A HREF="GPEnabled.html#DOC.1.5.4.1.2">GPEnabled</A></H2>
<BLOCKQUOTE>Base class for notification targets.</BLOCKQUOTE>
<HR>

<H2>Inheritance:</H2>
<APPLET CODE="ClassGraph.class" WIDTH=600 HEIGHT=215>
<param name=classes value="CGPEnabled,MGPEnabled.html,CDjVuPort,MDjVuPort.html,CDjVuSimplePort,MDjVuSimplePort.html,CDjVuMemoryPort,MDjVuMemoryPort.html,CDjVuImage,MDjVuImage.html,CDjVuFile,MDjVuFile.html,CDjVuDocument,MDjVuDocument.html">
<param name=before value="M,M,M|_,MR_,MR_,MR_,Mr_">
<param name=after value="Md_,M,M,M,M,M,M">
<param name=indent value="0,1,1,1,1,1,1">
<param name=arrowdir value="down">
</APPLET>
<HR>

<DL>
<P><DL>
<DT><H3>Public Methods</H3><DD><DT>
<A HREF="#DOC.1.5.27.1.1"><IMG ALT="[more]" BORDER=0 SRC=icon1.gif></A>static   <!1><A HREF="DjVuPortcaster.html">DjVuPortcaster</A>* <B>get_portcaster</B>(void)
<DD><I>Use this function to get a copy of the global <!1><A HREF="DjVuPortcaster.html">DjVuPortcaster</A>.</I>
<DT>
<A HREF="#DOC.1.5.27.1.2"><IMG ALT="[more]" BORDER=0 SRC=icon1.gif></A> <B>DjVuPort</B>(const <!1><A HREF="DjVuPort.html#DOC.1.5.27.1.2">DjVuPort</A> &amp; port)
<DD><I>Copy constructor.</I>
<DT>
<A HREF="#DOC.1.5.27.1.3"><IMG ALT="[more]" BORDER=0 SRC=icon1.gif></A><!1><A HREF="DjVuPort.html#DOC.1.5.27.1.2">DjVuPort</A>&amp; <B>operator=</B>(const <!1><A HREF="DjVuPort.html#DOC.1.5.27.1.2">DjVuPort</A> &amp; port)
<DD><I>Copy operator.</I>
<DT>
<A HREF="#DOC.1.5.27.1.4"><IMG ALT="[more]" BORDER=0 SRC=icon1.gif></A>virtual   bool <B>inherits</B>(const char * class_name) const 
<DD><I>Should return 1 if the called class inherits class <TT>class_name</TT>.</I>
</DL></P>

<P><DL>
<DT><H3>Public</H3><DD><DT>
<A HREF="#DOC.1.5.27.1.5"><IMG ALT="[more]" BORDER=0 SRC=icon1.gif></A> <B>Notifications. </B>
<DD><I></I>
<P><DL>
<DT>
<A HREF="#DOC.1.5.27.1.5.1"><IMG ALT="[more]" BORDER=0 SRC=icon1.gif></A>virtual   <!1><A HREF="GURL.html">GURL</A> <B>id_to_url</B>(const <!1><A HREF="DjVuPort.html#DOC.1.5.27.1.2">DjVuPort</A> * source, const char * id)
<DD><I>This request is issued to request translation of the ID, used in an DjVu INCL chunk to a URL, which may be used to request data associated with included file.</I>
<DT>
<A HREF="#DOC.1.5.27.1.5.2"><IMG ALT="[more]" BORDER=0 SRC=icon1.gif></A>virtual   <!1><A HREF="GPBase.html">GPBase</A> <B>id_to_file</B>(const <!1><A HREF="DjVuPort.html#DOC.1.5.27.1.2">DjVuPort</A> * source, const char * id)
<DD><I>This request is used to get a file corresponding to the given ID.</I>
<DT>
<A HREF="#DOC.1.5.27.1.5.3"><IMG ALT="[more]" BORDER=0 SRC=icon1.gif></A>virtual   <!1><A HREF="GP.html">GP</A>&lt;<!1><A HREF="DataPool.html">DataPool</A>&gt;  <B>request_data</B>(const <!1><A HREF="DjVuPort.html#DOC.1.5.27.1.2">DjVuPort</A> * source, const <!1><A HREF="GURL.html">GURL</A> &amp; url)
<DD><I>This request is issued when decoder needs additional data for decoding.</I>
<DT>
<A HREF="#DOC.1.5.27.1.5.4"><IMG ALT="[more]" BORDER=0 SRC=icon1.gif></A>virtual   bool <B>notify_error</B>(const <!1><A HREF="DjVuPort.html#DOC.1.5.27.1.2">DjVuPort</A> * source, const char * msg)
<DD><I>This notification is sent when an error occurs and the error message should be shown to the user.</I>
<DT>
<A HREF="#DOC.1.5.27.1.5.5"><IMG ALT="[more]" BORDER=0 SRC=icon1.gif></A>virtual   bool <B>notify_status</B>(const <!1><A HREF="DjVuPort.html#DOC.1.5.27.1.2">DjVuPort</A> * source, const char * msg)
<DD><I>This notification is sent to update the decoding status.</I>
<DT>
<A HREF="#DOC.1.5.27.1.5.6"><IMG ALT="[more]" BORDER=0 SRC=icon1.gif></A>virtual   void <B>notify_redisplay</B>(const class <!1><A HREF="DjVuImage.html">DjVuImage</A> * source)
<DD><I>This notification is sent by <!1><A HREF="DjVuImage.html">DjVuImage</A> when it should be redrawn.</I>
<DT>
<A HREF="#DOC.1.5.27.1.5.7"><IMG ALT="[more]" BORDER=0 SRC=icon1.gif></A>virtual   void <B>notify_relayout</B>(const class <!1><A HREF="DjVuImage.html">DjVuImage</A> * source)
<DD><I>This notification is sent by \ref{DjVuImage} when its geometry has been changed as a result of decoding.</I>
<DT>
<A HREF="#DOC.1.5.27.1.5.8"><IMG ALT="[more]" BORDER=0 SRC=icon1.gif></A>virtual   void <B>notify_chunk_done</B>(const <!1><A HREF="DjVuPort.html#DOC.1.5.27.1.2">DjVuPort</A> * source, const char * name)
<DD><I>This notification is sent when a new chunk has been decoded.</I>
<DT>
<A HREF="#DOC.1.5.27.1.5.9"><IMG ALT="[more]" BORDER=0 SRC=icon1.gif></A>virtual   void <B>notify_file_flags_changed</B>(const class <!1><A HREF="DjVuFile.html">DjVuFile</A> * source, long set_mask, long clr_mask)
<DD><I>This notification is sent after the <!1><A HREF="DjVuFile.html">DjVuFile</A> flags have been changed.</I>
<DT>
<A HREF="#DOC.1.5.27.1.5.10"><IMG ALT="[more]" BORDER=0 SRC=icon1.gif></A>virtual   void <B>notify_doc_flags_changed</B>(const class <!1><A HREF="DjVuDocument.html">DjVuDocument</A> * source, long set_mask, long clr_mask)
<DD><I>This notification is sent after the <!1><A HREF="DjVuDocument.html">DjVuDocument</A> flags have been changed.</I>
<DT>
<A HREF="#DOC.1.5.27.1.5.11"><IMG ALT="[more]" BORDER=0 SRC=icon1.gif></A>virtual   void <B>notify_decode_progress</B>(const <!1><A HREF="DjVuPort.html#DOC.1.5.27.1.2">DjVuPort</A> * source, float done)
<DD><I>This notification is sent from time to time while decoding is in progress.</I>
<DT>
<A HREF="#DOC.1.5.27.1.5.12"><IMG ALT="[more]" BORDER=0 SRC=icon1.gif></A>enum  <B>ErrorRecoveryAction</B>
<DD><I>This is the standard types for defining what to do in case of errors.</I>
</DL></P>
</DL></P>

</DL>
<HR><H3>Inherited from <A HREF="GPEnabled.html">GPEnabled</A>:</H3>
<DL>
<P><DL>
<DT><H3>Public Methods</H3><DD><DT>
<IMG ALT="o" SRC=icon2.gif>int <B>get_count</B>(void) const 
</DL></P>

<P><DL>
<DT><H3>Protected Fields</H3><DD><DT>
<IMG ALT="o" SRC=icon2.gif>volatile   int <B>count</B>
</DL></P>

</DL>

<A NAME="DOC.DOCU">
<HR>
<H2>Documentation</H2>
<BLOCKQUOTE>Base class for notification targets.
<TT>DjVuPort</TT> provides base functionality for classes willing to take part in
sending and receiving messages generated during decoding process.  You
need to derive your class from <TT>DjVuPort</TT> if you want it to be able to
send or receive requests. In addition, for receiving requests you should
override one or more virtual function.<P><B>Important remark</B> --- All ports should be allocated on the heap using
<TT>operator new</TT> and immediately secured using a <!1><A HREF="GP.html">GP</A> smart pointer.
Ports which are not secured by a smart-pointer are not considered
``alive'' and never receive notifications! </BLOCKQUOTE>
<DL>

<A NAME="get_portcaster">
<A NAME="DOC.1.5.27.1.1">
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>static   <!1><A HREF="DjVuPortcaster.html">DjVuPortcaster</A>* get_portcaster(void)</B></TT>
<DD>Use this function to get a copy of the global <!1><A HREF="DjVuPortcaster.html">DjVuPortcaster</A>. 
<DL><DT><DD></DL><P>
<A NAME="DjVuPort">
<A NAME="DOC.1.5.27.1.2">
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B> DjVuPort(const <!1><A HREF="DjVuPort.html#DOC.1.5.27.1.2">DjVuPort</A> &amp; port)</B></TT>
<DD>Copy constructor. When <TT>DjVuPort</TT>s are copied, the portcaster
copies all incoming and outgoing routes of the original. 
<DL><DT><DD></DL><P>
<A NAME="operator=">
<A NAME="DOC.1.5.27.1.3">
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B><!1><A HREF="DjVuPort.html#DOC.1.5.27.1.2">DjVuPort</A>&amp; operator=(const <!1><A HREF="DjVuPort.html#DOC.1.5.27.1.2">DjVuPort</A> &amp; port)</B></TT>
<DD>Copy operator. Similarly to the copy constructor, the portcaster
copies all incoming and outgoing coming routes of the original. 
<DL><DT><DD></DL><P>
<A NAME="inherits">
<A NAME="DOC.1.5.27.1.4">
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>virtual   bool inherits(const char * class_name) const </B></TT>
<DD>Should return 1 if the called class inherits class <TT>class_name</TT>.
When a destination receives a request, it can retrieve the pointer
to the source <TT>DjVuPort</TT>. This virtual function should be able
to help to identify the source of the request. For example,
<!1><A HREF="DjVuFile.html">DjVuFile</A> is also derived from <TT>DjVuPort</TT>. In order for
the receiver to recognize the sender, the <!1><A HREF="DjVuFile.html">DjVuFile</A> should
override this function to return <TT>TRUE</TT> when the <TT>class_name</TT>
is either <TT>DjVuPort</TT> or <TT>DjVuFile</TT> 
<DL><DT><DD></DL><P>
<A NAME="Notifications. ">
<A NAME="DOC.1.5.27.1.5">
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B> Notifications. </B></TT>
<DD>These virtual functions may be overridden by the subclasses
of <TT>DjVuPort</TT>.  They are called by the <!1><A HREF="DjVuPortcaster.html">DjVuPortcaster</A>
when the port is alive and when there is a route between the 
source of the notification and this port. 
<DL><DT><DD></DL><P><DL>

<A NAME="id_to_url">
<A NAME="DOC.1.5.27.1.5.1">
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>virtual   <!1><A HREF="GURL.html">GURL</A> id_to_url(const <!1><A HREF="DjVuPort.html#DOC.1.5.27.1.2">DjVuPort</A> * source, const char * id)</B></TT>
<DD>This request is issued to request translation of the ID, used
in an DjVu INCL chunk to a URL, which may be used to request
data associated with included file. <!1><A HREF="DjVuDocument.html">DjVuDocument</A> usually
intercepts all such requests, and the user doesn't have to
worry about the translation 
<DL><DT><DD></DL><P>
<A NAME="id_to_file">
<A NAME="DOC.1.5.27.1.5.2">
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>virtual   <!1><A HREF="GPBase.html">GPBase</A> id_to_file(const <!1><A HREF="DjVuPort.html#DOC.1.5.27.1.2">DjVuPort</A> * source, const char * id)</B></TT>
<DD>This request is used to get a file corresponding to the
given ID. <!1><A HREF="DjVuDocument.html">DjVuDocument</A> is supposed to intercept it
and either create a new instance of <!1><A HREF="DjVuFile.html">DjVuFile</A> or reuse
an existing one from the cache. 
<DL><DT><DD></DL><P>
<A NAME="request_data">
<A NAME="DOC.1.5.27.1.5.3">
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>virtual   <!1><A HREF="GP.html">GP</A>&lt;<!1><A HREF="DataPool.html">DataPool</A>&gt;  request_data(const <!1><A HREF="DjVuPort.html#DOC.1.5.27.1.2">DjVuPort</A> * source, const <!1><A HREF="GURL.html">GURL</A> &amp; url)</B></TT>
<DD>This request is issued when decoder needs additional data
for decoding.  Both <!1><A HREF="DjVuFile.html">DjVuFile</A> and <!1><A HREF="DjVuDocument.html">DjVuDocument</A> are
initialized with a URL, not the document data.  As soon as
they need the data, they call this function, whose responsibility
is to locate the source of the data basing on the <TT>URL</TT> passed
and return it back in the form of the <!1><A HREF="DataPool.html">DataPool</A>. If this
particular receiver is unable to fullfil the request, it should
return <TT>0</TT>. 
<DL><DT><DD></DL><P>
<A NAME="notify_error">
<A NAME="DOC.1.5.27.1.5.4">
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>virtual   bool notify_error(const <!1><A HREF="DjVuPort.html#DOC.1.5.27.1.2">DjVuPort</A> * source, const char * msg)</B></TT>
<DD>This notification is sent when an error occurs and the error message
should be shown to the user.  The receiver should return <TT>0</TT> if it is 
unable to process the request. Otherwise the receiver should return 1. 
<DL><DT><DD></DL><P>
<A NAME="notify_status">
<A NAME="DOC.1.5.27.1.5.5">
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>virtual   bool notify_status(const <!1><A HREF="DjVuPort.html#DOC.1.5.27.1.2">DjVuPort</A> * source, const char * msg)</B></TT>
<DD>This notification is sent to update the decoding status.  The
receiver should return <TT>0</TT> if it is unable to process the
request. Otherwise the receiver should return 1. 
<DL><DT><DD></DL><P>
<A NAME="notify_redisplay">
<A NAME="DOC.1.5.27.1.5.6">
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>virtual   void notify_redisplay(const class <!1><A HREF="DjVuImage.html">DjVuImage</A> * source)</B></TT>
<DD>This notification is sent by <!1><A HREF="DjVuImage.html">DjVuImage</A> when it should be
redrawn. It may be used to implement progressive redisplay.<P>
<DL><DT><DT><B>Parameters:</B><DD><B>source</B> -  The sender of the request <BR><DD></DL><P>
<A NAME="notify_relayout">
<A NAME="DOC.1.5.27.1.5.7">
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>virtual   void notify_relayout(const class <!1><A HREF="DjVuImage.html">DjVuImage</A> * source)</B></TT>
<DD>This notification is sent by \ref{DjVuImage} when its geometry
has been changed as a result of decoding. It may be used to
implement progressive redisplay. 
<DL><DT><DD></DL><P>
<A NAME="notify_chunk_done">
<A NAME="DOC.1.5.27.1.5.8">
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>virtual   void notify_chunk_done(const <!1><A HREF="DjVuPort.html#DOC.1.5.27.1.2">DjVuPort</A> * source, const char * name)</B></TT>
<DD>This notification is sent when a new chunk has been decoded. 
<DL><DT><DD></DL><P>
<A NAME="notify_file_flags_changed">
<A NAME="DOC.1.5.27.1.5.9">
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>virtual   void notify_file_flags_changed(const class <!1><A HREF="DjVuFile.html">DjVuFile</A> * source, long set_mask, long clr_mask)</B></TT>
<DD>This notification is sent after the <!1><A HREF="DjVuFile.html">DjVuFile</A> flags have
been changed. This happens, for example, when:
<UL>
<LI> Decoding succeeded, failed or just stopped
<LI> All data has been received
<LI> All included files have been created
</UL><P>
<DL><DT><DT><B>Parameters:</B><DD><B>source</B> -  <!1><A HREF="DjVuFile.html">DjVuFile</A>, which flags have been changed
<BR><B>set_mask</B> -  bits, which have been set
<BR><B>clr_mask</B> -  bits, which have been cleared <BR><DD></DL><P>
<A NAME="notify_doc_flags_changed">
<A NAME="DOC.1.5.27.1.5.10">
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>virtual   void notify_doc_flags_changed(const class <!1><A HREF="DjVuDocument.html">DjVuDocument</A> * source, long set_mask, long clr_mask)</B></TT>
<DD>This notification is sent after the <!1><A HREF="DjVuDocument.html">DjVuDocument</A> flags have
been changed. This happens, for example, after it receives enough
data and can determine its structure (<TT>BUNDLED</TT>, <TT>OLD_INDEXED</TT>, etc.).<P>
<DL><DT><DT><B>Parameters:</B><DD><B>source</B> -  <!1><A HREF="DjVuDocument.html">DjVuDocument</A>, which flags have been changed
<BR><B>set_mask</B> -  bits, which have been set
<BR><B>clr_mask</B> -  bits, which have been cleared <BR><DD></DL><P>
<A NAME="notify_decode_progress">
<A NAME="DOC.1.5.27.1.5.11">
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>virtual   void notify_decode_progress(const <!1><A HREF="DjVuPort.html#DOC.1.5.27.1.2">DjVuPort</A> * source, float done)</B></TT>
<DD>This notification is sent from time to time while decoding is in
progress. The purpose is obvious: to provide a way to know how much
is done and how long the decoding will continue.  Argument <TT>done</TT> is
a number from 0 to 1 reflecting the progress. 
<DL><DT><DD></DL><P>
<A NAME="ErrorRecoveryAction">
<A NAME="DOC.1.5.27.1.5.12">
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>enum  ErrorRecoveryAction</B></TT>
<DD>This is the standard types for defining what to do in case of errors.
This is only used by some of the subclasses, but it needs to be 
defined here to guarantee all subclasses use the same enum types.
In general, many errors are none recoverable.  Using a setting
other than ABORT may just result in even more errors. 
<DL><DT><DD></DL><P></DL>
</DL>
<HR>
<DL><DT><B>Direct child classes:
</B><DD><A HREF="DjVuSimplePort.html">DjVuSimplePort</A><BR>
<A HREF="DjVuMemoryPort.html">DjVuMemoryPort</A><BR>
<A HREF="DjVuImage.html">DjVuImage</A><BR>
<A HREF="DjVuFile.html">DjVuFile</A><BR>
<A HREF="DjVuDocument.html">DjVuDocument</A><BR>
</DL>

<DL><DT><DD></DL><P><I><A HREF="index.html">Alphabetic index</A></I> <I><A HREF="HIER.html">HTML hierarchy of classes</A> or <A HREF="HIERjava.html">Java</A></I><P><HR>
<!-- This is were the DOC++ footer is defined  -->

<font face="arial,helvetica" size="2">
DjVu is a trademark of LizardTech.   
<br>All other products mentioned are registered trademarks or trademarks of
their respective companies.
</font>
